<!DOCTYPE html>
<html>
<head>
	<title>Microstructure Calculator</title>
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
</head>
<body onload="drawGraph(myGraphLines);">
	<h1>Microstructure Calculator for 1010 Steel</h1>
	<div id="content">
		<canvas id="graph" width="420px" height="400px" style="border:1px solid black; float:left">Su navegador no tiene soporte para HTML5</canvas>
		<table float="left" style="font-size:small; background-color:white; color:gray">
		  <tr>
		    <th>Cooling rates</th>
		  </tr>
		  <tr>
		    <td>Air</td>
		    <td>5&deg;C/s</td>
		  </tr>
		  <tr>
		    <td>Oil (still)</td>
		    <td>18&deg;C/s</td>
		  </tr>
		  <tr>
		    <td>Oil (flow)</td>
		    <td>45&deg;C/s</td>
		  </tr>
		  <tr>
		    <td>Water (still)</td>
		    <td>45&deg;C/s</td>
		  </tr>
		  <tr>
		    <td>Water (flow)</td>
		    <td>190&deg;C/s</td>
		  </tr>
		  <tr>
		    <td>Brine (still)</td>
		    <td>90&deg;C/s</td>
		  </tr>
		  <tr>
		    <td>Brine (flow)</td>
		    <td>230&deg;C/s</td>
		  </tr>
		</table>
		<table id="io" style="table-layout:fixed; clear:both;">
			<tr>
				<td>
					Cooling rate:
				</td>
				<td>
					<input id="userCoolRate" type="text" oninput="runProgram();" onchange="runProgram();"></input>
				</td>
				<td>
					&deg;C/s
				</td>
			</tr>
			<tr style="color:blue">
				<td>
					% martensite:
				</td>
				<td id="martensiteOut">
				</td>
			</tr>
			<tr style="color:red">
				<td>
					% pearlite:
				</td>
				<td id="pearliteOut">
				</td>
			</tr>
		</table>
	</div>
	<h3>Overview</h3>
		<p>This is a way of deriving mathematical equations from an image of a graph. This is part of a project for a manufacture engineering class, where the only information we had about a manufactured part's cooling rate was a low quality image of a graph.</p>
		<h3>Description</h3>
		<p>For a class project we were tasked with developing an application to calculate the microstructure of a steel part given a certain cooling rate. The only information we were given was the following graph, which described the part's cooling rate and transformation curves.</p>
		<img src="1.png" border="1">
		<p>The first step was to isolate each curve manually using GIMP. An image for each curve was produced.</p>
		<img src="2.png" border="1">
		<p>Once each curve was isolated a program was coded in Java to analyze the images. This program analyzed each image pixel by pixel, recording the coordinates of any "dark" pixel.</p>
		<img src="4.png" border="1">
		<p>Each image produced about 1000 points corresponding to the dark pixels. A program was coded in R that took as input all of these points and returned a sixth order polynomial equation that described a regression line that fitted the points.</p>
		<img src="5.png" border="1">
		<p>The equations and the graphs were obtained. The following images show the points (dark circles) and the regression line (green curve)</p>
		<img src="6.png" border="1">
		<img src="7.png" border="1">
		<img src="8.png" border="1">
		<p>With the polynomial's coefficients the lines were all graphed in a single graph and the intersection points are found.</p>
		<img src="9.jpg" border="1">
		<p>This information was used to build an application that given a cooling rate will calculate the part's microstructure.</p>
	<script src="script.js"></script>
</body>
</html>
